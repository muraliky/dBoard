// Normalize open package to a callable function
let opener = null;
try {
  const openPkg = require('open');
  if (typeof openPkg === 'function') {
    // CommonJS export is the function itself
    opener = (p) => openPkg(p);
  } else if (openPkg && typeof openPkg.default === 'function') {
    // ESM default export wrapped in an object
    opener = (p) => openPkg.default(p);
  } else if (openPkg && typeof openPkg.open === 'function') {
    // some versions export an object with open()
    opener = (p) => openPkg.open(p);
  } else {
    opener = null;
  }
} catch (e) {
  opener = null;
}
