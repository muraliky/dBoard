// Function to handle month filter visibility/state
function updateMonthFilterState() {
    const monthFilter = document.getElementById('monthFilter');
    if (!monthFilter) return;
    
    if (currentPage === 'automation' || currentPage === 'standardization') {
        monthFilter.disabled = true;
        monthFilter.style.opacity = '0.5';
        monthFilter.style.cursor = 'not-allowed';
    } else {
        monthFilter.disabled = false;
        monthFilter.style.opacity = '1';
        monthFilter.style.cursor = 'pointer';
    }
}

// Update data based on page
setTimeout(() => {
    if (page === 'quality') {
        updateQualityMetrics();
    } else if (page === 'automation') {
        if (typeof updateAutomationMetrics === 'function') {
            updateAutomationMetrics();
        }
    } else if (page === 'standardization') {
        if (typeof updateStandardizationMetrics === 'function') {
            updateStandardizationMetrics();
        }
    } else if (page === 'initiatives') {
        if (typeof updateInitiativesMetrics === 'function') {
            updateInitiativesMetrics();
        }
    } else if (page === 'training' || page === 'rto' || page === 'engagement') {
        console.log(`Switched to ${page} page - showing coming soon message`);
    }
    
    // Update month filter state based on current page
    updateMonthFilterState();
}, 100);

async function loadData() {
    await loadQualityData();
    populateFilters();
    updateQualityMetrics();
    updateMonthFilterState(); // Add this line
}
